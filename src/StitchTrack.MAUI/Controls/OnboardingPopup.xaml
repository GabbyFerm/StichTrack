<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               x:Class="StitchTrack.MAUI.Controls.OnboardingPopup"
               Color="Transparent"
               CanBeDismissedByTappingOutsideOfPopup="False">

  <!-- Main Frame -->
  <Frame BackgroundColor="{AppThemeBinding Light=#FDFBF5, Dark=#424B54}"
         CornerRadius="20"
         Padding="0"
         HasShadow="True"
         BorderColor="Transparent"
         WidthRequest="340"
         MaximumHeightRequest="600">

    <Grid RowDefinitions="Auto,*,Auto">

      <!-- ============================================ -->
      <!-- HEADER: Logo + Close Button                 -->
      <!-- ============================================ -->
      <Grid Grid.Row="0"
            ColumnDefinitions="*,Auto"
            Padding="20,15,15,10">

        <!-- Logo (Tinted Golden) -->
        <Image Grid.Column="0"
               Source="logo.svg"
               HeightRequest="40"
               HorizontalOptions="Start"
               VerticalOptions="Center">
          <Image.Behaviors>
            <toolkit:IconTintColorBehavior TintColor="{StaticResource BrandGold}" />
          </Image.Behaviors>
        </Image>

        <!-- Close Button -->
        <ImageButton Grid.Column="1"
                     Source="close.svg"
                     WidthRequest="32"
                     HeightRequest="32"
                     CornerRadius="16"
                     BackgroundColor="Transparent"
                     Padding="6"
                     Clicked="OnCloseClicked"
                     VerticalOptions="Start">
          <ImageButton.Behaviors>
            <toolkit:IconTintColorBehavior TintColor="#999" />
          </ImageButton.Behaviors>
        </ImageButton>

      </Grid>

      <!-- ============================================ -->
      <!-- CONTENT: Welcome message + Features         -->
      <!-- ============================================ -->
      <ScrollView Grid.Row="1" Padding="30,10,30,20">
        <VerticalStackLayout Spacing="20" HorizontalOptions="Center">

          <!-- Yarn Ball Icon -->
          <Image Source="ball_of_wool.svg"
                 HeightRequest="70"
                 WidthRequest="70"
                 HorizontalOptions="Center">
            <Image.Behaviors>
              <toolkit:IconTintColorBehavior TintColor="{StaticResource BrandGold}" />
            </Image.Behaviors>
          </Image>

          <!-- Welcome Title -->
          <Label Text="Welcome to StitchTrack!"
                 FontFamily="MontserratBold"
                 FontSize="24"
                 TextColor="{StaticResource TextPrimary}"
                 HorizontalOptions="Center" />

          <!-- Subtitle -->
          <Label Text="Start counting rows effortlessly"
                 FontFamily="MontserratMedium"
                 FontSize="14"
                 TextColor="{StaticResource TextSecondary}"
                 HorizontalOptions="Center"
                 HorizontalTextAlignment="Center" />

          <!-- Description -->
          <Label Text="Your projects save locally and you always have access to them."
                 FontFamily="MontserratRegular"
                 FontSize="13"
                 TextColor="{StaticResource TextSecondary}"
                 HorizontalOptions="Center"
                 HorizontalTextAlignment="Center"
                 Margin="0,0,0,10" />

          <!-- Features List -->
          <VerticalStackLayout Spacing="12">

            <!-- Feature 1 -->
            <HorizontalStackLayout Spacing="12">
              <Label Text="✓"
                     FontFamily="MontserratBold"
                     FontSize="18"
                     TextColor="{StaticResource BrandGold}"
                     VerticalOptions="Center" />
              <Label Text="Track multiple projects"
                     FontFamily="MontserratMedium"
                     FontSize="14"
                     TextColor="{StaticResource TextPrimary}"
                     VerticalOptions="Center" />
            </HorizontalStackLayout>

            <!-- Feature 2 -->
            <HorizontalStackLayout Spacing="12">
              <Label Text="✓"
                     FontFamily="MontserratBold"
                     FontSize="18"
                     TextColor="{StaticResource BrandGold}"
                     VerticalOptions="Center" />
              <Label Text="Count rows with ease"
                     FontFamily="MontserratMedium"
                     FontSize="14"
                     TextColor="{StaticResource TextPrimary}"
                     VerticalOptions="Center" />
            </HorizontalStackLayout>

            <!-- Feature 3 -->
            <HorizontalStackLayout Spacing="12">
              <Label Text="✓"
                     FontFamily="MontserratBold"
                     FontSize="18"
                     TextColor="{StaticResource BrandGold}"
                     VerticalOptions="Center" />
              <Label Text="Never lose your progress"
                     FontFamily="MontserratMedium"
                     FontSize="14"
                     TextColor="{StaticResource TextPrimary}"
                     VerticalOptions="Center" />
            </HorizontalStackLayout>

          </VerticalStackLayout>

        </VerticalStackLayout>
      </ScrollView>

      <!-- ============================================ -->
      <!-- FOOTER: Get Started Button                  -->
      <!-- ============================================ -->
      <Button Grid.Row="2"
              Text="GET STARTED"
              Style="{StaticResource PrimaryButton}"
              Clicked="OnGetStartedClicked"
              HorizontalOptions="FillAndExpand"
              Margin="20,0,20,20" />

    </Grid>

  </Frame>

</toolkit:Popup>
